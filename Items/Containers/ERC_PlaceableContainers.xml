<?xml version="1.0" encoding="utf-8"?>
<Items>
  <!-- =================================================================
       ERC PLACEABLE CONTAINERS (放置类容器)
       包含: 遗物袋柜, 磁力扩容箱,ERC 自动清理桶
       ================================================================= -->

  <!-- 1. ERC_duffelbagcontainer (遗物袋柜) -->
  <Item identifier="ERC_duffelbagcontainer" category="Machine" tags="container,crate" scale="0.5">
    <PreferredContainer secondary="wreckstoragecab,abandonedstoragecab,piratestoragecab" amount="1" spawnprobability="0.1"/>
    <Price sold="false" />

    <Sprite texture="%ModDir%/Images/Containers/ERC_DuffelBagContainer.png" depth="0.6" sourcerect="0,0,275,376" origin="0.5,0.5" />
    <Body width="145" height="85" density="25" />
    
    <!-- 操作逻辑: 右键瞄准+左键放置 (Action)，扳手拆卸 -->
    <Holdable selectkey="Action" pickkey="Use" slots="RightHand+LeftHand" msg="ItemMsgDetachWrench" PickingTime="4.0" aimpos="85,0" handle1="-30,14" handle2="30,14" attachable="true" aimable="true">
       <RequiredItem identifier="wrench" type="Equipped" />
    </Holdable>

    <Deconstruct time="15">
      <Item identifier="steel" amount="1" />
    </Deconstruct>

    <Fabricate suitablefabricators="fabricator" requiredtime="15">
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="steel" amount="3" />
    </Fabricate>

    <ItemContainer capacity="25" slotsperrow="5" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <Containable identifiers="duffelbag,bodybag,idcard" />
      <GuiFrame relativesize="0.25,0.4" anchor="Center" style="ItemUI" />
    </ItemContainer>
  </Item>


  <!-- 2. ERC_expansioncrate (ERC磁力扩容箱) -->
  <Item identifier="ERC_expansioncrate" category="Equipment" tags="container,crate" scale="0.2">
    <Price baseprice="175" sold="true">
      <Price storeidentifier="merchantoutpost" multiplier="1.0" minavailable="2" />
      <Price storeidentifier="merchantcity" multiplier="1.25" minavailable="6" />
      <Price storeidentifier="merchantresearch" multiplier="0.9" minavailable="4" />
      <Price storeidentifier="merchantmilitary" multiplier="1.2" minavailable="2" />
      <Price storeidentifier="merchantmine" multiplier="0.9" minavailable="4" />
    </Price>
    
    <Sprite texture="%ModDir%/Images/Containers/ERC_ExpansionCrate.png" depth="0.6" sourcerect="0,0,430,280" origin="0.5,0.5" />
    <Body width="120" height="80" density="20" />
    
    <!-- 操作逻辑: 右键瞄准+E键放置 (Select)，空手E键拆卸 -->
    <!-- aimable="false" 是为了防止物理射线被自身阻挡导致无法贴墙 -->
    <Holdable selectkey="Select" pickkey="Use" slots="RightHand+LeftHand" msg="ItemMsgDetachWrench" PickingTime="3.0" aimpos="60,0" handle1="0,0" attachable="true" aimable="false">
    </Holdable>

    <Deconstruct time="22">
      <Item identifier="steel" amount="1" />
      <Item identifier="aluminium" amount="1" />
    </Deconstruct>

    <Fabricate suitablefabricators="fabricator" requiredtime="22">
      <RequiredSkill identifier="mechanical" level="40" />
      <RequiredItem identifier="steel" amount="2" />
      <RequiredItem identifier="plastic" amount="2" />
      <RequiredItem identifier="aluminium" amount="1" />
      <RequiredItem identifier="rubber" amount="1" />
    </Fabricate>

    <ItemContainer capacity="25" slotsperrow="5" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <Containable items="smallitem,mediumitem" excludedidentifiers="mobilecontainer" />
      <GuiFrame relativesize="0.25,0.4" anchor="Center" style="ItemUI" />
      <SubContainer capacity="5" maxstacksize="1">
        <SlotIcon texture="%ModDir%/Images/Icons/CommandUIAtlas.png" sourcerect="639,926,128,80" origin="0.5,0.5" />
        <Containable items="mobilecontainer" tags="allowcleanup,mediumitem,toolbelt,toolbox,mobilecontainer" />
      </SubContainer>
    </ItemContainer>
  </Item>

  <!-- 3. ERC_trashcan (ERC 自动清理桶) -->
  <Item identifier="ERC_trashcan" category="Machine" tags="container,trashcan" scale="0.1" pickdistance="150">
    <Price baseprice="220" sold="true" />
    
    <!-- 直接使用原版前哨站贴图 (SourceRect来自您提供的代码) -->
    <Sprite texture="%ModDir%/Images/Containers/ERC_TrashCan.png" sourcerect="0,0,400,500" depth="0.86" origin="0.5,0.5" />
    
    <Body width="125" height="205" density="20" />
    
    <!-- 放置逻辑: 右键+E放置，扳手拆卸 -->
    <Holdable selectkey="Select" pickkey="Use" slots="RightHand+LeftHand" msg="ItemMsgDetachWrench" PickingTime="3.0" aimpos="60,-10" handle1="0,0" attachable="true" aimable="false">
       <RequiredItem identifier="wrench" type="Equipped" />
       
       <!-- 自定义按钮 UI -->
       <CustomInterface canbeselected="true" drawhudwhenequipped="true">
         <GuiFrame relativesize="0.12,0.08" anchor="Center" relativeoffset="0.0,-0.3" style="ItemUI" />
         <!-- 点击按钮触发清除效果 -->
         <button text="ERC_ClearTrash">
           <StatusEffect type="OnUse" target="Contained">
             <Sound file="Content/Sounds/Damage/StructureBlunt1.ogg" range="500" />
             <Remove />
           </StatusEffect>
         </button>
       </CustomInterface>
    </Holdable>

    <Deconstruct time="12">
      <Item identifier="steel" amount="1" />
      <Item identifier="plastic" amount="1" />
      <Item identifier="rubber" amount="1" />
    </Deconstruct>

    <Fabricate suitablefabricators="fabricator" requiredtime="12">
      <RequiredSkill identifier="mechanical" level="30" />
      <RequiredItem identifier="steel" amount="2" />
      <RequiredItem identifier="plastic" amount="2" />
      <RequiredItem identifier="rubber" amount="2" />
    </Fabricate>
    
    <ItemContainer capacity="6" slotsperrow="3" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.2,0.25" anchor="Center" style="ItemUI" />
      <!-- 允许放入大部分物品 -->
      <Containable items="smallitem,mediumitem,crate" />
    </ItemContainer>
  </Item>

<!-- 4. ERC_armamentcrate (ERC武备框架箱) -->
<Item identifier="ERC_armamentcrate" category="Equipment" tags="container,crate" scale="0.2">
    <Price baseprice="275" sold="true">
      <Price storeidentifier="merchantoutpost" multiplier="1.1" minavailable="1" />
      <Price storeidentifier="merchantcity" multiplier="1.25" minavailable="4" />
      <Price storeidentifier="merchantresearch" multiplier="1.1" minavailable="1" />
      <Price storeidentifier="merchantmilitary" multiplier="0.9" minavailable="6" />
      <Price storeidentifier="merchantmine" multiplier="1.0" minavailable="2" />
    </Price>
    <Sprite texture="%ModDir%/Images/Containers/ERC_StorageCrate.png" depth="0.6" sourcerect="20,220,683,196" origin="0.5,0.5" />
    <InventoryIcon texture="%ModDir%/Images/Containers/ERC_StorageCrate.png" sourcerect="20,15,340,205" origin="0.5,0.5" depth="0.6" />
    <ContainedSprite name="ERC_storagecrate on shelf" allowedcontainertags="cargocontainer" texture="%ModDir%/Images/Containers/ERC_StorageCrate.png" sourcerect="20,15,340,205" depth="0.55" origin="0.5,0.5" />
    
    <Holdable slots="RightHand+LeftHand" holdpos="0,-40" handle1="-30,14" handle2="30,14" aimable="false" msg="ItemMsgPickUpSelect" />

    <Deconstruct time="20">
      <Item identifier="titaniumaluminiumalloy" amount="1" />
    </Deconstruct>

    <Fabricate suitablefabricators="fabricator" requiredtime="20">
      <RequiredSkill identifier="mechanical" level="30" />
      <RequiredItem identifier="titaniumaluminiumalloy" amount="2" />
      <RequiredItem identifier="lead" amount="2" />
      <RequiredItem identifier="rubber" amount="1" />
    </Fabricate>
    <ItemContainer capacity="12" slotsperrow="4" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <Containable identifiers="ammobox,coilgunammo,railgunammo,depthchargeammo,divingsuit,combatdivingsuit,abyssdivingsuit,pucs,slipsuit,alienartifact" excludedidentifiers="mobilecontainer" />
      <GuiFrame relativesize="0.25,0.25" anchor="Center" style="ItemUI" />
    </ItemContainer>
  </Item>

  <!-- 5. ERC_storagecrate (ERC储运集装箱) -->
  <Item identifier="ERC_storagecrate" category="Equipment" tags="container,crate" scale="0.2" fireproof="true" waterproof="true" explosiondamagemultiplier="0.1">
    <Price baseprice="175" sold="true">
      <Price storeidentifier="merchantoutpost" multiplier="1.0" minavailable="4" />
      <Price storeidentifier="merchantcity" multiplier="1.25" minavailable="6" />
      <Price storeidentifier="merchantresearch" multiplier="1.0" minavailable="2" />
      <Price storeidentifier="merchantmilitary" multiplier="1.1" minavailable="4" />
      <Price storeidentifier="merchantmine" multiplier="0.9" minavailable="6" />
    </Price>
    <Sprite texture="%ModDir%/Images/Containers/ERC_ArmamentCrate.png" depth="0.6" sourcerect="29,243,726,209" origin="0.5,0.5" />
    <InventoryIcon texture="%ModDir%/Images/Containers/ERC_ArmamentCrate.png" sourcerect="29,8,383,215" origin="0.5,0.5" depth="0.6" />
    <ContainedSprite name="ERC_armamentcrate on shelf" allowedcontainertags="cargocontainer" texture="%ModDir%/Images/Containers/ERC_ArmamentCrate.png" sourcerect="29,8,383,215" depth="0.55" origin="0.5,0.5" />    
    <!-- 独立贴图: ERC_StorageCrate.png (源自 cratelvl4) -->

    <Body width="145" height="85" density="30" />
    
    <Holdable slots="RightHand+LeftHand" msg="ItemMsgDetachWrench" PickingTime="3.0" aimpos="60,0" handle1="0,0" aimable="false">
    </Holdable>

    <Deconstruct time="24">
      <Item identifier="plastic" amount="1" />
    </Deconstruct>

    <Fabricate suitablefabricators="fabricator" requiredtime="24">
      <RequiredSkill identifier="mechanical" level="40" />
      <RequiredItem identifier="plastic" amount="2" />
      <RequiredItem identifier="copper" amount="2" />
      <RequiredItem identifier="silicon" amount="1" />
      <RequiredItem identifier="rubber" amount="1" />
    </Fabricate>

    <!-- 容量: 36格 (6x6) -->
    <ItemContainer capacity="36" slotsperrow="6" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <Containable items="smallitem,mediumitem" />
      <GuiFrame relativesize="0.3,0.4" anchor="Center" style="ItemUI" />
    </ItemContainer>
  </Item>


</Items>
